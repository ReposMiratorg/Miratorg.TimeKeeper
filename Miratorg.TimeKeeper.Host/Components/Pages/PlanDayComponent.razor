<div style="display:flex; flex-direction:column; width: 190px; height: 60px; background-color: #ced4da">
    <PlanRecordComponent CurrentDate="currentDate" PlanedIntervals="planedIntervals" />

    <div style="display: flex; background-color: #8a969c; width: 100%; height:50px;">
        
    </div>

    <div style="display: flex; width: 100%; height:50px;">
        
    </div>
</div>

@code {

    [Parameter]
    public DayEnum WeekDay { get; set; }

    [Parameter]
    public DateTime WeekBeginDay { get; set; }

    [Parameter]
    public Guid EmployeeId { get; set; }

    [Parameter]
    public List<EmployeeModel> EmployeeModels { get; set; }

    private DateTime currentDate { get; set; }

    private List<DateDetailModel> planedIntervals { get; set; }
    private List<DateDetailModel> overworkIntervals { get; set; }

    protected override void OnParametersSet()
    {
        currentDate = WeekBeginDay.AddDays((int)WeekDay);

        var dates = EmployeeModels.Where(x => x.EmployeeId == EmployeeId).SelectMany(x => x.Dates);
        planedIntervals = dates.Where(x => x.Begin >= currentDate && x.End <= currentDate && x.PlanType == PlanType.Plan).ToList();
        overworkIntervals = dates.Where(x => x.Begin >= currentDate && x.End <= currentDate && x.PlanType == PlanType.Overwork).ToList();
    }
}
